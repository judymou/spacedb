{% extends 'layout.html' %}
{% load static %}

{% block scripts %}
<!--
<script src="{% static "js/lib/three.r98.min.js" %}"></script>
<script src="{% static "js/lib/TrackballControls.js" %}"></script>
<script src="{% static "js/lib/spacekit.js" %}"></script>
-->
<script src="http://localhost:8001/src/lib/three.r98.min.js"></script>
<script src="http://localhost:8001/src/lib/TrackballControls.js"></script>
<script src="http://localhost:8001/build/spacekit.js"></script>
<script>
window.EPHEMERIS = {
  a: {{space_object.a}},
  e: {{space_object.e}},
  i: {{space_object.i}},
  om: {{space_object.om}},
  w: {{space_object.w}},
  ma: {{space_object.ma}},
  epoch: {{space_object.epoch}}
}
</script>
<script src="{% static "js/main.js" %}"></script>
{% endblock %}

{% block content %}
<strong>SpaceDB</strong>
<header class="site-header">
  <h1 class="mainheading">{{space_object.name}}</h1>
  <h2 class="subheading">{{space_object.fullname}}</h2>
</header>
<div>
  <div class="item-container col-sm-8">
    <div class="item-container__inner">
      <h3>Summary</h3>
      Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aliquam auctor nunc non diam vestibulum vulputate. Aenean sagittis iaculis ante. Donec mollis nec nibh vitae faucibus. Nam quis iaculis sapien, sed ultricies turpis. In ac tortor placerat, dictum libero id, dapibus augue. Mauris nulla est, mollis nec ante vel, dignissim facilisis erat. Integer non nisl ac arcu ultrices imperdiet eget sed est. Morbi sed pretium leo, id aliquam diam. Maecenas fermentum leo id tincidunt congue.
      <h3>Close Approaches</h3>
      {% for close_approach in space_object.closeapproach_set.all %}
        <h5>{{close_approach.dist_min}}</h5>
      {% endfor %}
      <h3>Images and Observations</h3>
      ...
      <h3>References</h3>
      <ul>
        <li><a href="https://ssd.jpl.nasa.gov/sbdb.cgi?sstr={{space_object.pdes}}">JPL Small Body Database</a></li>
      </ul>
    </div>
  </div>
  <div class="item-container col-sm-4">
    <div class="item-container__inner">
      <h3>Key Facts</h3>
      <ul class="keyfacts">
        <li>Orbits between Earth and Mars</li>
        <li>Classified as a Potential Hazardous Object (PHA)</li>
        <li>Will come within 50,000 miles of Earth in 2027</li>
        <li>Comparable in size to Los Angeles (80 in circumference)</li>
      </ul>
    </div>
  </div>
  <div class="item-container col-sm-4">
    <div class="item-container__inner">
      <h3>Orbital Elements</h3>
      <ul class="keyfacts">
        <li>Epoch: {{space_object.epoch}} JD</li>
        <li>Semi-major axis: {{space_object.a | floatformat:5}}</li>
        <li>Eccentricity: {{space_object.e | floatformat:5}}</li>
        <li>Inclination: {{space_object.i | floatformat:5}}</li>
        <li>Longitude of Ascending Node: {{space_object.om | floatformat:5}}</li>
        <li>Argument of Periapsis: {{space_object.w | floatformat:5}}</li>
        <li>Mean Anomaly: {{space_object.ma | floatformat:5}}</li>
      </ul>
    </div>
  </div>
  <div class="item-container col-sm-12">
    <div class="item-container__inner">
      <h3>Orbital Simulation</h3>
      <div id="vis-container"></div>
    </div>
  </div>
</div>
{% endblock %}
